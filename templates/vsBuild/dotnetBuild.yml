parameters:
  buildConfiguration: ''
  runtimeIdentifier: ''

steps:
  - task: DotNetCoreCLI@2
    displayName: 'DotNet Core Restore'
    inputs:
      command: restore
      projects: '**/*.sln'
      vstsFeed: '${{ parameters.vstsFeedId }}'
      includeNuGetOrg: false
      arguments: '--runtime ${{ parameters.runtimeIdentifier }}'

  - task: DotNetCoreCLI@2
    displayName: Build
    inputs:
      projects: '*/*.sln'
      arguments: '--configuration ${{ parameters.buildConfiguration }} --runtime ${{ parameters.runtimeIdentifier }} --no-restore'